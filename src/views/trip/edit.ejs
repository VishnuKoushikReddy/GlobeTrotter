<%- include('../partials/header') %>

<div class="container mt-4">
  <h4>Edit Trip</h4>

  <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
  <% } %>

  <form action="/trip/<%= trip._id %>/edit" method="POST">

    <div class="mb-3">
      <label>Trip Title</label>
      <input type="text" name="title" class="form-control"
             value="<%= trip.title %>" required>
    </div>

    <div class="mb-3">
      <label>Place</label>
      <input type="text" name="place" class="form-control"
             value="<%= trip.place %>" required>
    </div>

    <div class="row mb-3">
      <div class="col">
        <label>Start Date</label>
        <input type="date" name="startDate" class="form-control"
               value="<%= trip.startDate.toISOString().split('T')[0] %>" required>
      </div>

      <div class="col">
        <label>End Date</label>
        <input type="date" name="endDate" class="form-control"
               value="<%= trip.endDate.toISOString().split('T')[0] %>" required>
      </div>
    </div>

    <div class="mb-3">
      <label>Description</label>
      <textarea name="description" class="form-control"><%= trip.description %></textarea>
    </div>

    <select name="status" class="form-control mb-3" required>
    <option value="upcoming" <%= trip.status === 'upcoming' ? 'selected' : '' %>>
      Upcoming
    </option>
    <option value="ongoing" <%= trip.status === 'ongoing' ? 'selected' : '' %>>
      Ongoing
    </option>
    <option value="completed" <%= trip.status === 'completed' ? 'selected' : '' %>>
      Completed
    </option>
  </select>

    <button class="btn btn-success">Update</button>
    <a href="/dashboard" class="btn btn-secondary ms-2">Cancel</a>
  </form>
</div>

<%- include('../partials/footer') %>
